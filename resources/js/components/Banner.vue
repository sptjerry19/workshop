<template>
    <div class="bg-white">
        <header
            class="fixed top-0 left-0 right-0 bg-white z-50 max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8"
        >
            <div
                class="flex items-center justify-between py-6 border-b border-gray-200 mobile-header-row"
            >
                <router-link to="/" class="flex items-center space-x-6">
                    <div class="flex items-center space-x-1">
                        <h1
                            class="text-2xl font-extrabold text-black flex items-center gap-1 mobile-logo"
                        >
                            <span> CheeseCake </span>
                            <svg
                                width="64px"
                                height="64px"
                                viewBox="-102.4 -102.4 1228.80 1228.80"
                                class="icon"
                                version="1.1"
                                xmlns="http://www.w3.org/2000/svg"
                                fill="#000000"
                                transform="rotate(0)"
                            >
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g
                                    id="SVGRepo_tracerCarrier"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke="#CCCCCC"
                                    stroke-width="45.056"
                                >
                                    <path
                                        d="M887.3 489L715.4 365.1s-38.5 14.2-51.4 5c-12.8-9.2-20.7-57.4-20.7-57.4l-101.8-59.9-89.9-12.4s-29.2 27.7-51.7 27.7c-22.4 0-48.1-27.7-48.1-27.7s-108.2 12.8-143 35.6-90.6 80.5-90.6 80.5L887.3 489z"
                                        fill="#FFFCEE"
                                    ></path>
                                    <path
                                        d="M907.1 780.3V683s-48.9-30.6-48.9-65.7 48.9-61.7 48.9-61.7v-53.3L118.2 356.5v278l788.9 145.8z"
                                        fill="#FFDEB3"
                                    ></path>
                                    <path
                                        d="M600.7 609.2c0 27.6 22.5 50.1 50.1 50.1s50.1-22.5 50.1-50.1-22.5-50.1-50.1-50.1-50.1 22.5-50.1 50.1z m25 0c0-13.9 11.3-25.2 25.2-25.2 13.9 0 25.2 11.3 25.2 25.2 0 13.9-11.3 25.2-25.2 25.2-14 0-25.2-11.3-25.2-25.2zM577.7 358c3-8.6 1.1-18.3-5.2-26.4-11.3-14.7-34.5-22.2-53.8-17.5-11.5 2.8-19.9 9.7-23.1 19-3 8.6-1.1 18.3 5.2 26.4 9.1 11.7 25.6 18.9 41.8 18.9 4.1 0 8.1-0.5 12-1.4 11.4-2.8 19.9-9.7 23.1-19z m-23.5-8.2c-0.1 0.4-1.5 2-5.5 3-9.4 2.3-22.9-1.7-28.1-8.5-1.3-1.6-1.4-2.7-1.4-2.9 0.1-0.4 1.5-2 5.5-3 1.8-0.4 3.8-0.7 5.8-0.7 8.5 0 18.1 3.7 22.3 9.2 1.2 1.6 1.4 2.7 1.4 2.9zM400 526.6c0 31.5 25.7 57.2 57.2 57.2 31.5 0 57.2-25.7 57.2-57.2 0-31.5-25.7-57.2-57.2-57.2-31.6 0-57.2 25.7-57.2 57.2z m24.9 0c0-17.8 14.5-32.2 32.2-32.2 17.8 0 32.2 14.5 32.2 32.2s-14.5 32.2-32.2 32.2c-17.7 0.1-32.2-14.4-32.2-32.2z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M102.8 355.5v283.8c0 6 4.3 11.2 10.2 12.3L214.2 670l131.2 24 561.1 102.4c0.8 0.1 1.5 0.2 2.2 0.2 2.9 0 5.7-1 8-2.9 2.8-2.4 4.5-5.9 4.5-9.6V675.5c0-6.3-4.6-11.5-10.8-12.4-23.5-3.2-41.2-23.3-41.2-46.8 0-23.5 17.7-43.7 41.2-46.8 6.2-0.8 10.8-6.1 10.8-12.4v-56.8c0-0.5-0.2-1-0.3-1.5-0.1-0.8-0.2-1.7-0.4-2.4-0.2-0.6-0.6-1.2-0.9-1.8-0.3-0.7-0.6-1.3-1.1-1.9-0.4-0.6-1-1-1.6-1.5-0.4-0.4-0.7-0.9-1.2-1.2L711.9 351.5c-4.8-3.2-11.2-2.8-15.5 1.2-4.5 4.2-10.3 6.4-16.2 6.4-13.2 0-24-10.8-24-24 0-2.8 0.6-5.7 1.7-8.6 2.1-5.4 0.2-11.6-4.6-14.8l-103.7-70.4c-1.3-0.9-2.8-1.6-4.4-1.9-1.7-0.4-43.4-9.1-102.3-11.9-5.5-0.2-10.4 3-12.3 8.1-5.1 13.6-17.8 22.4-32.2 22.4-14.1 0-26.7-8.5-32-21.6-2.1-5-7.1-8.2-12.6-7.7-117 9.5-200.7 49.8-248.8 119.8-0.3 0.4-0.5 0.9-0.7 1.4-0.1 0.2-0.3 0.5-0.4 0.7-0.6 1.5-1 3-1 4.6 0 0-0.1 0.2-0.1 0.3z m750 121.9L137.5 346.9c43.9-52.4 114.4-83.5 210-92.6 10.7 17.7 29.8 28.7 50.9 28.7 21.4 0 41.1-11.8 51.6-30.1 45 2.7 78.8 8.8 87.8 10.5l94.3 64c-0.4 2.6-0.7 5.2-0.7 7.8 0 27 22 49 49 49 8.8 0 17.4-2.4 25-6.9l147.4 100.1z m-625 169.5c0-32.2 26.2-58.4 58.4-58.4s58.4 26.2 58.4 58.4c0 3.1-0.4 6.3-0.9 9.4-0.1 0.8-0.3 1.7-0.5 2.5-0.6 2.6-1.3 5.2-2.3 7.7-0.1 0.4-0.3 0.8-0.4 1.2l-112.7-20.6v-0.2zM127.7 370.5L306 403l590.2 107.7V547c-30.3 8.9-52 37-52 69.3s21.7 60.3 52 69.3v83.6l-530.8-96.9c0.2-0.6 0.3-1.2 0.5-1.9 0.8-2.6 1.4-5.3 2-8 0.2-1.2 0.6-2.4 0.7-3.7 0.6-3.9 1-7.9 1-11.8 0-46-37.4-83.4-83.4-83.4-2.8 0-5.6 0.1-8.4 0.4-0.9 0.1-1.8 0.3-2.8 0.4-1.8 0.2-3.6 0.5-5.4 0.8-1.1 0.2-2.1 0.5-3.1 0.8-1.6 0.4-3.2 0.7-4.8 1.2-1.1 0.3-2.1 0.7-3.2 1.1-1.5 0.5-3 1-4.4 1.6-1 0.4-2.1 1-3.1 1.4-1.4 0.6-2.8 1.3-4.1 2l-3 1.8c-1.3 0.8-2.6 1.5-3.8 2.3-1 0.6-1.9 1.4-2.9 2.1-1.2 0.9-2.4 1.7-3.5 2.6-0.9 0.7-1.8 1.5-2.7 2.3-1.1 1-2.2 1.9-3.2 2.9-0.9 0.8-1.7 1.7-2.5 2.6-1 1-2 2.1-2.9 3.2-0.8 0.9-1.5 1.9-2.3 2.9-0.9 1.1-1.7 2.2-2.5 3.4-0.7 1-1.4 2-2 3.1-0.8 1.2-1.5 2.4-2.2 3.6-0.6 1.1-1.2 2.2-1.7 3.3-0.6 1.3-1.3 2.5-1.8 3.8-0.5 1.1-1 2.3-1.4 3.5-0.5 1.3-1 2.6-1.5 4-0.4 1.2-0.8 2.4-1.1 3.7-0.4 1.4-0.7 2.7-1.1 4.1-0.3 1.3-0.5 2.5-0.8 3.8-0.3 1.4-0.5 2.8-0.6 4.2-0.2 1.3-0.3 2.6-0.4 4-0.1 0.7-0.2 1.4-0.2 2.2l-75.2-13.7V370.5z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M157.4 414.3m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M157.4 464.1m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M208.9 428.7m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M861.1 725.6m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M803.9 711.2m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                </g>
                                <g id="SVGRepo_iconCarrier">
                                    <path
                                        d="M887.3 489L715.4 365.1s-38.5 14.2-51.4 5c-12.8-9.2-20.7-57.4-20.7-57.4l-101.8-59.9-89.9-12.4s-29.2 27.7-51.7 27.7c-22.4 0-48.1-27.7-48.1-27.7s-108.2 12.8-143 35.6-90.6 80.5-90.6 80.5L887.3 489z"
                                        fill="#FFFCEE"
                                    ></path>
                                    <path
                                        d="M907.1 780.3V683s-48.9-30.6-48.9-65.7 48.9-61.7 48.9-61.7v-53.3L118.2 356.5v278l788.9 145.8z"
                                        fill="#FFDEB3"
                                    ></path>
                                    <path
                                        d="M600.7 609.2c0 27.6 22.5 50.1 50.1 50.1s50.1-22.5 50.1-50.1-22.5-50.1-50.1-50.1-50.1 22.5-50.1 50.1z m25 0c0-13.9 11.3-25.2 25.2-25.2 13.9 0 25.2 11.3 25.2 25.2 0 13.9-11.3 25.2-25.2 25.2-14 0-25.2-11.3-25.2-25.2zM577.7 358c3-8.6 1.1-18.3-5.2-26.4-11.3-14.7-34.5-22.2-53.8-17.5-11.5 2.8-19.9 9.7-23.1 19-3 8.6-1.1 18.3 5.2 26.4 9.1 11.7 25.6 18.9 41.8 18.9 4.1 0 8.1-0.5 12-1.4 11.4-2.8 19.9-9.7 23.1-19z m-23.5-8.2c-0.1 0.4-1.5 2-5.5 3-9.4 2.3-22.9-1.7-28.1-8.5-1.3-1.6-1.4-2.7-1.4-2.9 0.1-0.4 1.5-2 5.5-3 1.8-0.4 3.8-0.7 5.8-0.7 8.5 0 18.1 3.7 22.3 9.2 1.2 1.6 1.4 2.7 1.4 2.9zM400 526.6c0 31.5 25.7 57.2 57.2 57.2 31.5 0 57.2-25.7 57.2-57.2 0-31.5-25.7-57.2-57.2-57.2-31.6 0-57.2 25.7-57.2 57.2z m24.9 0c0-17.8 14.5-32.2 32.2-32.2 17.8 0 32.2 14.5 32.2 32.2s-14.5 32.2-32.2 32.2c-17.7 0.1-32.2-14.4-32.2-32.2z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M102.8 355.5v283.8c0 6 4.3 11.2 10.2 12.3L214.2 670l131.2 24 561.1 102.4c0.8 0.1 1.5 0.2 2.2 0.2 2.9 0 5.7-1 8-2.9 2.8-2.4 4.5-5.9 4.5-9.6V675.5c0-6.3-4.6-11.5-10.8-12.4-23.5-3.2-41.2-23.3-41.2-46.8 0-23.5 17.7-43.7 41.2-46.8 6.2-0.8 10.8-6.1 10.8-12.4v-56.8c0-0.5-0.2-1-0.3-1.5-0.1-0.8-0.2-1.7-0.4-2.4-0.2-0.6-0.6-1.2-0.9-1.8-0.3-0.7-0.6-1.3-1.1-1.9-0.4-0.6-1-1-1.6-1.5-0.4-0.4-0.7-0.9-1.2-1.2L711.9 351.5c-4.8-3.2-11.2-2.8-15.5 1.2-4.5 4.2-10.3 6.4-16.2 6.4-13.2 0-24-10.8-24-24 0-2.8 0.6-5.7 1.7-8.6 2.1-5.4 0.2-11.6-4.6-14.8l-103.7-70.4c-1.3-0.9-2.8-1.6-4.4-1.9-1.7-0.4-43.4-9.1-102.3-11.9-5.5-0.2-10.4 3-12.3 8.1-5.1 13.6-17.8 22.4-32.2 22.4-14.1 0-26.7-8.5-32-21.6-2.1-5-7.1-8.2-12.6-7.7-117 9.5-200.7 49.8-248.8 119.8-0.3 0.4-0.5 0.9-0.7 1.4-0.1 0.2-0.3 0.5-0.4 0.7-0.6 1.5-1 3-1 4.6 0 0-0.1 0.2-0.1 0.3z m750 121.9L137.5 346.9c43.9-52.4 114.4-83.5 210-92.6 10.7 17.7 29.8 28.7 50.9 28.7 21.4 0 41.1-11.8 51.6-30.1 45 2.7 78.8 8.8 87.8 10.5l94.3 64c-0.4 2.6-0.7 5.2-0.7 7.8 0 27 22 49 49 49 8.8 0 17.4-2.4 25-6.9l147.4 100.1z m-625 169.5c0-32.2 26.2-58.4 58.4-58.4s58.4 26.2 58.4 58.4c0 3.1-0.4 6.3-0.9 9.4-0.1 0.8-0.3 1.7-0.5 2.5-0.6 2.6-1.3 5.2-2.3 7.7-0.1 0.4-0.3 0.8-0.4 1.2l-112.7-20.6v-0.2zM127.7 370.5L306 403l590.2 107.7V547c-30.3 8.9-52 37-52 69.3s21.7 60.3 52 69.3v83.6l-530.8-96.9c0.2-0.6 0.3-1.2 0.5-1.9 0.8-2.6 1.4-5.3 2-8 0.2-1.2 0.6-2.4 0.7-3.7 0.6-3.9 1-7.9 1-11.8 0-46-37.4-83.4-83.4-83.4-2.8 0-5.6 0.1-8.4 0.4-0.9 0.1-1.8 0.3-2.8 0.4-1.8 0.2-3.6 0.5-5.4 0.8-1.1 0.2-2.1 0.5-3.1 0.8-1.6 0.4-3.2 0.7-4.8 1.2-1.1 0.3-2.1 0.7-3.2 1.1-1.5 0.5-3 1-4.4 1.6-1 0.4-2.1 1-3.1 1.4-1.4 0.6-2.8 1.3-4.1 2l-3 1.8c-1.3 0.8-2.6 1.5-3.8 2.3-1 0.6-1.9 1.4-2.9 2.1-1.2 0.9-2.4 1.7-3.5 2.6-0.9 0.7-1.8 1.5-2.7 2.3-1.1 1-2.2 1.9-3.2 2.9-0.9 0.8-1.7 1.7-2.5 2.6-1 1-2 2.1-2.9 3.2-0.8 0.9-1.5 1.9-2.3 2.9-0.9 1.1-1.7 2.2-2.5 3.4-0.7 1-1.4 2-2 3.1-0.8 1.2-1.5 2.4-2.2 3.6-0.6 1.1-1.2 2.2-1.7 3.3-0.6 1.3-1.3 2.5-1.8 3.8-0.5 1.1-1 2.3-1.4 3.5-0.5 1.3-1 2.6-1.5 4-0.4 1.2-0.8 2.4-1.1 3.7-0.4 1.4-0.7 2.7-1.1 4.1-0.3 1.3-0.5 2.5-0.8 3.8-0.3 1.4-0.5 2.8-0.6 4.2-0.2 1.3-0.3 2.6-0.4 4-0.1 0.7-0.2 1.4-0.2 2.2l-75.2-13.7V370.5z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M157.4 414.3m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M157.4 464.1m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M208.9 428.7m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M861.1 725.6m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                    <path
                                        d="M803.9 711.2m-14.4 0a14.4 14.4 0 1 0 28.8 0 14.4 14.4 0 1 0-28.8 0Z"
                                        fill="#004364"
                                    ></path>
                                </g>
                            </svg>
                        </h1>
                    </div>
                </router-link>
                <form
                    aria-label="Site search"
                    class="flex flex-1 max-w-4xl mx-6 mobile-search"
                    role="search"
                >
                    <SearchDropdown />
                </form>
                <div class="flex items-center space-x-6 text-gray-600 text-lg">
                    <UserMenu />
                    <router-link
                        to="/cart"
                        class="relative hover:text-black transition"
                        aria-label="Shopping bag"
                    >
                        <svg
                            width="24px"
                            height="24px"
                            viewBox="0 0 24 24"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                            stroke="#000000"
                        >
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g
                                id="SVGRepo_tracerCarrier"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke="#CCCCCC"
                                stroke-width="0.672"
                            ></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M6.29977 5H21L19 12H7.37671M20 16H8L6 3H3M9 20C9 20.5523 8.55228 21 8 21C7.44772 21 7 20.5523 7 20C7 19.4477 7.44772 19 8 19C8.55228 19 9 19.4477 9 20ZM20 20C20 20.5523 19.5523 21 19 21C18.4477 21 18 20.5523 18 20C18 19.4477 18.4477 19 19 19C19.5523 19 20 19.4477 20 20Z"
                                    stroke="#000000"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                ></path>
                            </g>
                        </svg>
                        <span
                            v-if="cartCount > 0"
                            class="absolute -top-2 -right-2 bg-[#d80000] text-white text-xs rounded-full px-1.5"
                            >{{ cartCount }}</span
                        >
                    </router-link>
                </div>
            </div>
            <nav class="flex items-center space-x-4 border-b border-gray-200">
                <button
                    class="flex items-center gap-2 bg-[#eeb600] text-white text-xs font-semibold px-5 py-3 rounded-md"
                    type="button"
                >
                    DANH MỤC
                </button>
                <ul class="flex space-x-6 text-sm font-medium text-gray-800">
                    <li>
                        <router-link
                            to="/"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Trang chủ
                        </router-link>
                    </li>
                    <li>
                        <router-link
                            to="/about"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/about'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Giới thiệu
                        </router-link>
                    </li>
                    <li>
                        <router-link
                            to="/story"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/story'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Câu chuyện
                        </router-link>
                    </li>
                    <li>
                        <router-link
                            to="/products"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/products'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Sản phẩm
                        </router-link>
                    </li>
                    <li>
                        <router-link
                            to="/news"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/news'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Tin tức
                        </router-link>
                    </li>
                    <li>
                        <router-link
                            to="/contact"
                            :class="[
                                'pb-1 inline-block',
                                $route.path === '/contact'
                                    ? 'border-b-2 border-black font-semibold'
                                    : 'hover:underline',
                            ]"
                        >
                            Liên hệ
                        </router-link>
                    </li>
                </ul>
            </nav>
        </header>
        <main
            v-if="$route.path === '/'"
            class="max-w-[1280px] mx-auto sm:px-6 lg:px-8 mt-6 sm:pt-32"
        >
            <section
                class="flex flex-col lg:flex-row gap-6 bg-[#f9f9f9] rounded-md overflow-hidden"
            >
                <div
                    class="flex-1 relative bg-white flex items-center justify-center lg:p-0"
                >
                    <img
                        alt="Fresh vegetables in a paper bag including a yellow pepper, carrot, cauliflower, and tomatoes on a white background"
                        class="w-full h-80 object-cover"
                        height="400"
                        :src="baseImageUrl + 'text_effect_cheese.jpg'"
                        width="720"
                    />
                    <div
                        class="absolute inset-0 bg-white bg-opacity-90 flex flex-col justify-center px-6 lg:px-20"
                    >
                        <h2
                            class="text-2xl sm:text-3xl font-extrabold text-gray-900 max-w-md"
                        >
                            <span> Nấu ăn bằng </span>
                            <span class="text-[#078a83] font-normal">
                                tình yêu
                                <br />
                                thưởng thức
                            </span>
                            <span> bằng niềm vui. </span>
                        </h2>
                        <p class="text-gray-400 text-xs mt-2 max-w-xs">
                            Alway fresh organic products for you
                        </p>
                        <router-link
                            to="/products"
                            class="mt-6 bg-[#eeb600] text-white text-xs font-semibold px-5 py-2 rounded-md w-max"
                            type="button"
                        >
                            MUA NGAY
                        </router-link>
                    </div>
                </div>
                <!-- <div
                    class="w-full lg:w-[360px] bg-[#f7bb40] rounded-md p-6 flex flex-col justify-center relative"
                >
                    <h3 class="text-xl font-bold text-[#6DA544]">
                        <span class="text-2xl font-extrabold"> 30% </span>
                        SALE OFF
                    </h3>
                    <p class="text-sm font-semibold mt-2 max-w-[180px]">
                        Spring Fresh Fruit
                        <br />
                        Special Offer.
                    </p>
                    <button
                        class="mt-6 bg-white text-black text-xs font-semibold px-5 py-2 rounded-md w-max"
                        type="button"
                    >
                        MUA NGAY
                    </button>
                </div> -->
            </section>
            <section
                class="mt-16 flex flex-wrap justify-center gap-12 max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8"
            >
                <div
                    class="flex flex-col items-center max-w-[160px] text-center"
                >
                    <div
                        class="rounded-full bg-white p-6 shadow-lg border border-gray-100 mb-4"
                    >
                        <img
                            alt="Icon of fresh vegetables with lettuce and tomato in a circle with dotted border"
                            class="w-16 h-16"
                            height="64"
                            src="https://thumbs.dreamstime.com/b/handy-glyph-style-icon-food-cloche-serving-handy-glyph-style-icon-food-cloche-serving-375746502.jpg"
                            width="64"
                        />
                    </div>
                    <h4 class="font-semibold text-sm mb-1">Tươi sạch</h4>
                    <p class="text-xs text-gray-600 leading-relaxed">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                    </p>
                </div>
                <div
                    class="flex flex-col items-center max-w-[160px] text-center"
                >
                    <div
                        class="rounded-full bg-white p-6 shadow-lg border border-gray-100 mb-4"
                    >
                        <img
                            alt="Icon of 100% organic leaf with circle dotted border"
                            class="w-16 h-16"
                            height="64"
                            src="https://static.vecteezy.com/system/resources/previews/012/956/668/original/a-cup-of-hot-drink-tea-coffee-cocoa-etc-design-for-poster-card-sticker-coffee-shop-or-cafe-logo-menu-the-concept-of-relaxation-coffee-break-illustration-isolated-on-white-background-vector.jpg"
                            width="64"
                        />
                    </div>
                    <h4 class="font-semibold text-sm mb-1">Hữu cơ</h4>
                    <p class="text-xs text-gray-600 leading-relaxed">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                    </p>
                </div>
                <div
                    class="flex flex-col items-center max-w-[160px] text-center"
                >
                    <div
                        class="rounded-full bg-white p-6 shadow-lg border border-gray-100 mb-4"
                    >
                        <img
                            alt="Icon of quality leaves recycle symbol with dotted circle border"
                            class="w-16 h-16"
                            height="64"
                            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRl5LJkKxsBS_eqPbxw53yfUFmiDYVzPlECUw&s"
                            width="64"
                        />
                    </div>
                    <h4 class="font-semibold text-sm mb-1">Chất lượng</h4>
                    <p class="text-xs text-gray-600 leading-relaxed">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                    </p>
                </div>
                <div
                    class="flex flex-col items-center max-w-[160px] text-center"
                >
                    <div
                        class="rounded-full bg-white p-6 shadow-lg border border-gray-100 mb-4"
                    >
                        <img
                            alt="Icon of natural fruit crate with dotted circle border"
                            class="w-16 h-16"
                            height="64"
                            src="https://storage.googleapis.com/a1aa/image/8e000709-4c69-4ed1-9b93-b2e4d9dff4a1.jpg"
                            width="64"
                        />
                    </div>
                    <h4 class="font-semibold text-sm mb-1">Tự nhiên</h4>
                    <p class="text-xs text-gray-600 leading-relaxed">
                        Lorem ipsum dolor sit amet, consectetuer adipiscing elit
                    </p>
                </div>
            </section>
        </main>
    </div>
</template>

<style scoped>
@media (max-width: 640px) {
    header {
        position: static !important;
        max-width: 100vw !important;
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }
    .mobile-header-row {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.5rem !important;
        padding-top: 1rem !important;
        padding-bottom: 1rem !important;
    }
    .mobile-logo {
        font-size: 1.25rem !important;
    }
    .mobile-search {
        width: 100% !important;
        margin: 0.5rem 0 !important;
        max-width: 100% !important;
    }
    .mobile-user-menu {
        width: 100% !important;
        justify-content: flex-start !important;
        margin-bottom: 0.5rem !important;
    }
    nav {
        border-bottom: none !important;
        padding: 0 !important;
    }
    .mobile-nav {
        display: none;
        flex-direction: column;
        background: #fff;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100vw;
        z-index: 100;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        border-bottom: 1px solid #eee;
    }
    .mobile-nav.open {
        display: flex;
    }
    .mobile-nav-link {
        padding: 1rem;
        border-bottom: 1px solid #eee;
        color: #222;
        font-size: 1rem;
        font-weight: 500;
        text-align: left;
    }
    .mobile-nav-link:last-child {
        border-bottom: none;
    }
    .mobile-category-btn {
        width: 100%;
        justify-content: flex-start;
        font-size: 1rem;
        padding: 0.75rem 1rem;
        margin-bottom: 0.5rem;
    }
}
</style>

<script>
import UserMenu from "./UserMenu.vue";
import SearchDropdown from "./SearchDropdown.vue";

export default {
    name: "CheeseCake",
    components: {
        UserMenu,
        SearchDropdown,
    },
    data() {
        return {
            cartCount: 0,
            baseImageUrl: import.meta.env.VITE_RESPONE_IMAGE_URL,
            showMobileNav: false,
        };
    },
    mounted() {
        this.updateCartCount();

        // Nếu có nhiều tab, sẽ bắt được sự kiện thay đổi localStorage
        window.addEventListener("storage", this.updateCartCount);

        // Optionally: Có thể tạo một custom event để dùng trong cùng tab
        window.addEventListener("cart-updated", this.updateCartCount);
    },
    beforeUnmount() {
        window.removeEventListener("storage", this.updateCartCount);
        window.removeEventListener("cart-updated", this.updateCartCount);
    },
    methods: {
        updateCartCount() {
            const data = localStorage.getItem("cartItems");
            if (!data) {
                this.cartCount = 0;
                return;
            }
            try {
                this.cartCount = JSON.parse(data).reduce(
                    (sum, item) => sum + item.quantity,
                    0
                );
            } catch {
                this.cartCount = 0;
            }
        },
        toggleMobileNav() {
            this.showMobileNav = !this.showMobileNav;
        },
        closeMobileNav() {
            this.showMobileNav = false;
        },
    },
};
</script>
